{
    "functions": [
        {
            "name": "generate_samples",
            "class_specification": {
                "id": "generate_samples",
                "function_type": "RUST_WASM",
                "version": "0.1",
                "code": "../functions/generate_samples/generate_samples.wasm",
                "outputs": [
                    "generated_samples",
                    "ttc_measurement_start",
		            "metric"
                ]
            },
            "output_mapping": {
                "generated_samples": "extract_features",
                "ttc_measurement_start": "ttc-log",
		        "metric": "metrics-collector"
            },
            "annotations": {
                "init-payload": "batch_size=100,generation_interval_ms=5000,start_working_after_ms=10000,seed=12345",
		        "node_id_match_any": "<your-RPI-node-UUID>"
            }
        },
        {
            "name": "extract_features",
            "class_specification": {
                "id": "extract_features",
                "function_type": "RUST_WASM",
                "version": "0.1",
                "code": "../functions/extract_features/extract_features.wasm",
                "outputs": [
                    "extracted_features",
                    "metric"
                ]
            },
            "output_mapping": {
                "extracted_features": "classify",
                "metric": "metrics-collector"
            },
            "annotations": {
                "node_id_match_any": "<your-VM-node-UUID>"
            }
        },
        {
            "name": "classify",
            "class_specification": {
                "id": "classify",
                "function_type": "RUST_WASM",
                "version": "0.1",
                "code": "../functions/classify/classify.wasm",
                "outputs": [
                    "classification_result",
                    "metric"
                ]
            },
            "output_mapping": {
                "classification_result": "handle_class_result",
                "sqlx_database": "classifier-sqlx",
                "metric": "metrics-collector"
            },
	        "annotations": {
                "node_id_match_any": "<your-RPI-node-UUID>"
            }
        },
        {
            "name": "handle_class_result",
            "class_specification": {
                "id": "handle_class_result",
                "function_type": "RUST_WASM",
                "version": "0.1",
                "code": "../functions/handle_class_result/handle_class_result.wasm",
                "outputs": [
                    "ttc_measurement_end",
                    "metric"
                ]
            },
            "output_mapping": {
                "ttc_measurement_end": "ttc-log",
                "metric": "metrics-collector"
            },
            "annotations": {
                "node_id_match_any": "<your-RPI-node-UUID>"
            }
        }
    ],
    "resources": [
        {
            "name": "ttc-log",
            "class_type": "file-log",
            "output_mapping": {},
            "configurations": {
                "filename": "/home/pi/Desktop/ttc_log.log",
                "add-timestamp": "true"
            }
        },
        {
            "name": "classifier-sqlx",
            "class_type": "sqlx",
            "output_mapping": {},
            "configurations": {
                "url": "sqlite:///var/tmp/edgeless_db.db",
                "key": "random"
            }
        },
        {
            "name": "metrics-collector",
            "class_type": "metrics-collector",
            "output_mapping": {},
            "configurations": {
                "alpha": "0.9",
                "wf_name": "acc_wf"
            }
        }
    ],
    "annotations": {}
}
